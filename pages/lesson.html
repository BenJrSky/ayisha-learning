<main class="container" @json="/courses/{_params[0]}.json" @result="course"
  @then="currentLesson=course.lessons.find(lesson => lesson.id==_params[1])">

  <section class="hero">
    <div class="hero-background"></div>
    <div class="hero-content">
      <img src="/ayisha-logo-black.png" alt="Ayisha.js Logo" class="hero-logo">

      <!-- Breadcrumb statico -->
      <nav class="breadcrumbs text-capitalize" style="margin-bottom: 0.75rem;">
        <a href="#" @link="home">Home</a>
        <span> ‚Ä∫ </span>
        <a href="#" @link="course/{_params[0]}" title="Vai alla pagina del corso">{{_params[0]}}</a>
      </nav>

      <h1 @text="currentLesson.title">Titolo della Lezione</h1>
      <p @text="currentLesson.summary" class="hero-subtitle">Sottotitolo/riassunto breve della lezione: cosa imparerai
        in questa unit√†.</p>

      <!-- Meta lezione -->
      <div class="course-meta" style="justify-content:center;">
        <span class="course-lessons">‚è± {{currentLesson.minutes}} min</span>
        <span class="course-language">üìñ Lesson {{currentLesson.order + 1}} of {{course.lessons.length}}</span>
      </div>

      <a class="cta" href="#" @link="/course/{_params[0]}" title="Back to course page">Back to course</a>
    </div>
  </section>

  <section class="install">
    <h2>Lesson Content</h2>

    <span @for="content in currentLesson.content">
      <p @if="content.type=='text'">{{content.value}}</p>
      <div @if="content.type=='tip'" class="tip">{{content.value}}</div>
      <pre class="pre-code" @if="content.type=='code'"><code>{{content.value}}</code></pre>
    </span>

  </section>

  <section class="install">
    <h2>Risorse</h2>
    <ul>
      <li><a href="#" target="_blank" rel="noopener">Documentazione ufficiale</a></li>
      <li><a href="#" target="_blank" rel="noopener">Esempi correlati</a></li>
      <li><a href="#" target="_blank" rel="noopener">Approfondimenti consigliati</a></li>
    </ul>
  </section>

  <section class="section">
    <h2>Lessons</h2>
    <ol>
      <li @for="lesson in (course?.lessons || []).sort((a,b)=> (a.order||0)-(b.order||0))" @key="lesson.id"
        class="lesson-item">
        <component @src="/components/sections/lesson-ltem.html" #slugcourse="_params[0]" #datalesson="lesson">
        </component>
      </li>
    </ol>
    <p class="tip" style="margin-top:1.5rem;">All lessons are accessible, keyboard-friendly, and use semantic HTML.</p>
  </section>

  <nav class="page-nav">
    <a href="#" @link="course/{_params[0]}">‚Üê Back to course</a>
    <a href="#" @link="courses">All Courses ‚Üí</a>
  </nav>
</main>