  <main class="container" @json="/courses/{_params[0]}.json" @result="course">
    <section class="hero">
      <div class="hero-background"></div>
      <div class="hero-content">
        <img src="/ayisha-logo-black.png" alt="Ayisha.js Logo" class="hero-logo">
        <h1 @text="course?.title || 'Course'">Course</h1>
        <p class="hero-subtitle" @text="course?.subtitle"></p>
        <a class="cta" @link="course?.hero?.ctaUrl || 'enroll.html'" @text="course?.hero?.ctaText || 'Iscriviti ora'"></a>
      </div>
    </section>

    <section class="philosophy" style="border-bottom:1px solid var(--border-light)">
      <h2>Overview</h2>
      <p @text="course?.overview"></p>
      <div class="course-content" @if="course?.content">
        <p @text="course.content"></p>
      </div>
      <div class="tip">
        <strong>Prerequisites:</strong>
        <span @text="(course?.prerequisites || []).join(', ') || 'None'"></span>
      </div>
      <ul>
        <li><strong>Level:</strong> <span @text="course?.level"></span></li>
        <li><strong>Duration:</strong> <span @text="course?.hours"></span> hours (self-paced)</li>
        <li><strong>Language:</strong> <span @text="course?.language"></span></li>
        <li><strong>Last updated:</strong> <span @text="course?.lastUpdated"></span></li>
        <li><strong>Format:</strong> Project-based lessons</li>
        <li><strong>Tags:</strong> <span @text="(course?.tags || []).join(', ')"></span></li>
      </ul>
      <div class="outcomes" @if="course?.outcomes && course.outcomes.length">
        <h3>What you'll learn</h3>
        <ul>
          <li @for="outcome in course.outcomes" @key="outcome">
            <span class="outcome-icon">✅</span>
            <span class="outcome-text" @text="outcome"></span>
          </li>
        </ul>
      </div>
    </section>

    <section class="section">
      <h2>Lessons</h2>
      <ol>
        <li @for="lesson in (course?.lessons || []).sort((a,b)=> (a.order||0)-(b.order||0))" @key="lesson.id" class="lesson-item">
          <component @src="/components/sections/lesson-ltem.html" #slugcourse="_params[0]" #datalesson="lesson"></component>
        </li>
      </ol>
      <p class="tip" style="margin-top:1.5rem;">All lessons are accessible, keyboard-friendly, and use semantic HTML.</p>
    </section>

    <section class="section" @if="course?.instructor">
      <h2>Instructor</h2>
      <div class="instructor-box">
        <img @if="course?.instructor?.avatar" src="course.instructor.avatar" alt="Instructor photo" class="instructor-avatar">
        <div>
          <div class="instructor-name" @text="course.instructor.name"></div>
          <div class="instructor-bio" @text="course.instructor.bio"></div>
          <div class="instructor-links" @if="course.instructor.links && course.instructor.links.length">
            <a @for="link in course.instructor.links" @key="link.url" href="link.url" target="_blank" rel="noopener" class="instructor-link" @text="link.type"></a>
          </div>
        </div>
      </div>
    </section>

    <nav class="page-nav">
      <a @link="courses">← Back to Courses</a>
    </nav>

  </main>